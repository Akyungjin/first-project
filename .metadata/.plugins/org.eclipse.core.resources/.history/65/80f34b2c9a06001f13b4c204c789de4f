package com.kh.demo.controller;

import java.net.URLEncoder;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
@RequestMapping("/api/*")
public class APIController {
		final static String servicekey = "AFZkEtgk0xRGGmfuchIZQ6ujW2A3p6rD8h0abJ44uyEhRh80fQYfdGWzZO4lT9o%2BGQP0xyX992pmnFg8RVTDxw%3D%3D";
		@GetMapping("get")
		public void replace() {}
		
		@PostMapping("get")
		public String getData(String sidoName)throws Exception {
			//공공데이터포탈과 통신
			String url = "http://apis.data.go.kr/B552584/ArpltnInforInqireSvc/getCtprvnRltmMesureDnsty?servicekey="+servicekey;
			url += "&returnType=json";
			url += "&sidoName="+URLEncoder.encode(sidoName,"UTF-8");
			url += "&numOfRows="+10000;
		}
}
